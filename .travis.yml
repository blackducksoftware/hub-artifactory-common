language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "jd+sJPgjCJ5zSSDdIWnfFbUuj2K8MbQfL4Tdr4VigOYonxRK8htv/5ACGqLSOgnr1RXv9rtajSM7Nlpl9ozhhwTUO7xT83kxheYENwg9M7Wsc8lWKspzhhf7UAS12Y85lNNG6jVuCKWhkwjrfxbHL6eJihKicGpE608baBOAcc0Nx3QGriCmbuLGKj1jb2AiT/vOC04PptXCpS4B+Y1faDmMj0Xitcxarf5eyrEho2PYhOWSO4T4dhATfD2AavVB5bC07Ih4DJbQbvMjU/+lMtLXiEH7H5ykASmlEBFWqBrfmsghHhVwRWyVjb0lpl7eHZJo1JUbSKUXlUU0ceQrG1tHCwF8wXuGXm4zR2RcWZ2O3tCBZyLw31jtlcbJ43AOjID59sy0oF2L0mKB8xEAVWLNkImveO/mVw5kWaMVbT/EuFhiDqG9gRvpi+bG/3CqkKYWmUkBszdKs2ueUqtt+5Ph6W2HjJcJjJNvf+Uy+Y9ua7ksBhALrO2bXzcWyPSGqgwY1sugP8OqifJ2bk1GYAR5Lew86dP9ghhwf8HxkTa9whTrVwK5vypJfOnLc7c/qfWUNPfhh66dmsuTwmw8D9B8I4/iqiAchBMJEmAvLarDDzhRsKlumAj+7OkiG0fDyaxPorE/UGh3R7zt+RtAmiZSvACXIF1uzLZbwO1i7jc="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - akamen@blackducksoftware.com
    - ekerwin@blackducksoftware.com
    - rotte@blackducksoftware.com

script:
 - "./gradlew clean build sonarqube"

after_success:
 - "./gradlew test jacocoTestReport coveralls"
 - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
